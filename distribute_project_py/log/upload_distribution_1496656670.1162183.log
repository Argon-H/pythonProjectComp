2017-06-05 17:57:52 root         INFO     check config starting...
2017-06-05 17:57:52 paramiko.transport DEBUG    starting thread (client mode): 0x75702c50
2017-06-05 17:57:52 paramiko.transport DEBUG    Local version/idstring: SSH-2.0-paramiko_2.1.2
2017-06-05 17:57:52 paramiko.transport DEBUG    Remote version/idstring: SSH-2.0-OpenSSH_5.3
2017-06-05 17:57:52 paramiko.transport INFO     Connected (version 2.0, client OpenSSH_5.3)
2017-06-05 17:57:52 paramiko.transport DEBUG    kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False
2017-06-05 17:57:52 paramiko.transport DEBUG    Kex agreed: diffie-hellman-group1-sha1
2017-06-05 17:57:52 paramiko.transport DEBUG    Cipher agreed: aes128-ctr
2017-06-05 17:57:52 paramiko.transport DEBUG    MAC agreed: hmac-sha2-256
2017-06-05 17:57:52 paramiko.transport DEBUG    Compression agreed: none
2017-06-05 17:57:53 paramiko.transport DEBUG    kex engine KexGroup1 specified hash_algo <built-in function openssl_sha1>
2017-06-05 17:57:53 paramiko.transport DEBUG    Switch to new keys ...
2017-06-05 17:57:53 paramiko.transport DEBUG    Adding ssh-rsa host key for 120.76.168.28: b'368f1d0922e7f78f9e4f3d54ea61d6e1'
2017-06-05 17:57:53 paramiko.transport DEBUG    userauth is OK
2017-06-05 17:57:53 paramiko.transport INFO     Authentication (password) successful!
2017-06-05 17:57:53 paramiko.transport DEBUG    EOF in transport thread
2017-06-05 17:57:53 root         INFO     check config successful!!
2017-06-05 17:57:53 paramiko.transport DEBUG    starting thread (client mode): 0x77bc45c0
2017-06-05 17:57:53 paramiko.transport DEBUG    Local version/idstring: SSH-2.0-paramiko_2.1.2
2017-06-05 17:57:53 paramiko.transport DEBUG    Remote version/idstring: SSH-2.0-OpenSSH_5.3
2017-06-05 17:57:53 paramiko.transport INFO     Connected (version 2.0, client OpenSSH_5.3)
2017-06-05 17:57:53 paramiko.transport DEBUG    kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False
2017-06-05 17:57:53 paramiko.transport DEBUG    Kex agreed: diffie-hellman-group1-sha1
2017-06-05 17:57:53 paramiko.transport DEBUG    Cipher agreed: aes128-ctr
2017-06-05 17:57:53 paramiko.transport DEBUG    MAC agreed: hmac-sha2-256
2017-06-05 17:57:53 paramiko.transport DEBUG    Compression agreed: none
2017-06-05 17:57:53 paramiko.transport DEBUG    kex engine KexGroup1 specified hash_algo <built-in function openssl_sha1>
2017-06-05 17:57:53 paramiko.transport DEBUG    Switch to new keys ...
2017-06-05 17:57:53 paramiko.transport DEBUG    Adding ssh-rsa host key for 120.76.168.28: b'368f1d0922e7f78f9e4f3d54ea61d6e1'
2017-06-05 17:57:53 paramiko.transport DEBUG    userauth is OK
2017-06-05 17:57:53 paramiko.transport INFO     Authentication (password) successful!
2017-06-05 17:57:53 root         INFO     running: source /root/.bash_profile && /bin/bash /home/tomcat-invoicing/bin/startup.sh
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Max packet in: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Max packet out: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    Secsh channel 0 opened.
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Sesch channel 0 request ok
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] EOF received (0)
2017-06-05 17:57:53 root         INFO     command execute successful!
2017-06-05 17:57:53 paramiko.transport DEBUG    starting thread (client mode): 0x77bc4ac8
2017-06-05 17:57:53 paramiko.transport DEBUG    Local version/idstring: SSH-2.0-paramiko_2.1.2
2017-06-05 17:57:53 paramiko.transport DEBUG    Remote version/idstring: SSH-2.0-OpenSSH_5.3
2017-06-05 17:57:53 paramiko.transport INFO     Connected (version 2.0, client OpenSSH_5.3)
2017-06-05 17:57:53 paramiko.transport DEBUG    kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False
2017-06-05 17:57:53 paramiko.transport DEBUG    Kex agreed: diffie-hellman-group1-sha1
2017-06-05 17:57:53 paramiko.transport DEBUG    Cipher agreed: aes128-ctr
2017-06-05 17:57:53 paramiko.transport DEBUG    MAC agreed: hmac-sha2-256
2017-06-05 17:57:53 paramiko.transport DEBUG    Compression agreed: none
2017-06-05 17:57:53 paramiko.transport DEBUG    kex engine KexGroup1 specified hash_algo <built-in function openssl_sha1>
2017-06-05 17:57:53 paramiko.transport DEBUG    Switch to new keys ...
2017-06-05 17:57:53 paramiko.transport DEBUG    Adding ssh-rsa host key for 120.76.168.28: b'368f1d0922e7f78f9e4f3d54ea61d6e1'
2017-06-05 17:57:53 paramiko.transport DEBUG    userauth is OK
2017-06-05 17:57:53 paramiko.transport INFO     Authentication (password) successful!
2017-06-05 17:57:53 root         INFO     running: mkdir -p /tmp/backup/invoicing/ori
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Max packet in: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Max packet out: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    Secsh channel 0 opened.
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] Sesch channel 0 request ok
2017-06-05 17:57:53 root         INFO     running: cp /home/tomcat-invoicing/webapps/qc-invoicing.war /tmp/backup/invoicing/ori/qc-invoicing.war_2017-06-05_17-57-53
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] EOF received (0)
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 1] Max packet in: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 0] EOF sent (0)
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 1] Max packet out: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    Secsh channel 1 opened.
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 1] Sesch channel 1 request ok
2017-06-05 17:57:53 root         INFO     running: rm -rf /home/tomcat-invoicing/webapps/qc-invoicing.war
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 1] EOF received (1)
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 2] Max packet in: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 1] EOF sent (1)
2017-06-05 17:57:53 paramiko.transport DEBUG    [chan 2] Max packet out: 32768 bytes
2017-06-05 17:57:53 paramiko.transport DEBUG    Secsh channel 2 opened.
2017-06-05 17:57:54 paramiko.transport DEBUG    [chan 2] Sesch channel 2 request ok
2017-06-05 17:57:54 paramiko.transport DEBUG    [chan 2] EOF received (2)
2017-06-05 17:57:54 root         INFO     command execute successful!
2017-06-05 17:57:54 root         INFO     paramiko log created
2017-06-05 17:57:54 paramiko.transport DEBUG    starting thread (client mode): 0x7445c7f0
2017-06-05 17:57:54 paramiko.transport DEBUG    Local version/idstring: SSH-2.0-paramiko_2.1.2
2017-06-05 17:57:54 paramiko.transport DEBUG    Remote version/idstring: SSH-2.0-OpenSSH_5.3
2017-06-05 17:57:54 paramiko.transport INFO     Connected (version 2.0, client OpenSSH_5.3)
2017-06-05 17:57:54 paramiko.transport DEBUG    kex algos:['diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa', 'ssh-dss'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'arcfour256', 'arcfour128', 'aes128-cbc', '3des-cbc', 'blowfish-cbc', 'cast128-cbc', 'aes192-cbc', 'aes256-cbc', 'arcfour', 'rijndael-cbc@lysator.liu.se'] client mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] server mac:['hmac-md5', 'hmac-sha1', 'umac-64@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-ripemd160', 'hmac-ripemd160@openssh.com', 'hmac-sha1-96', 'hmac-md5-96'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False
2017-06-05 17:57:54 paramiko.transport DEBUG    Kex agreed: diffie-hellman-group1-sha1
2017-06-05 17:57:54 paramiko.transport DEBUG    Cipher agreed: aes128-ctr
2017-06-05 17:57:54 paramiko.transport DEBUG    MAC agreed: hmac-sha2-256
2017-06-05 17:57:54 paramiko.transport DEBUG    Compression agreed: none
2017-06-05 17:57:54 paramiko.transport DEBUG    kex engine KexGroup1 specified hash_algo <built-in function openssl_sha1>
2017-06-05 17:57:54 paramiko.transport DEBUG    Switch to new keys ...
2017-06-05 17:57:54 paramiko.transport DEBUG    Attempting password auth...
2017-06-05 17:57:54 paramiko.transport DEBUG    userauth is OK
2017-06-05 17:57:54 paramiko.transport INFO     Authentication (password) successful!
2017-06-05 17:57:54 root         INFO     connected host <120.76.168.28> successful
2017-06-05 17:57:54 root         INFO     Upload file SUCCESSFUL 2017-06-05 17:57:54.230282 
2017-06-05 17:57:54 paramiko.transport DEBUG    [chan 0] Max packet in: 32768 bytes
2017-06-05 17:57:54 paramiko.transport DEBUG    [chan 0] Max packet out: 32768 bytes
2017-06-05 17:57:54 paramiko.transport DEBUG    Secsh channel 0 opened.
2017-06-05 17:57:54 paramiko.transport DEBUG    [chan 0] Sesch channel 0 request ok
2017-06-05 17:57:54 paramiko.transport.sftp INFO     [chan 0] Opened sftp connection (server version 3)
2017-06-05 17:57:54 root         INFO     Upload file SUCCESSFUL 2017-06-05 17:57:54.266435 
2017-06-05 17:57:58 root         DEBUG    本地文件:D:\a发版\invoicing\qc-invoicing.war
2017-06-05 17:58:01 root         DEBUG    远程文件:/home/tomcat-invoicing/webapps/qc-invoicing.war
2017-06-05 17:58:03 paramiko.transport.sftp DEBUG    [chan 0] open(b'/home/tomcat-invoicing/webapps/qc-invoicing.war', 'wb')
2017-06-05 17:58:03 paramiko.transport.sftp DEBUG    [chan 0] open(b'/home/tomcat-invoicing/webapps/qc-invoicing.war', 'wb') -> b'00000000'
2017-06-05 17:58:22 paramiko.transport ERROR    Socket exception: 远程主机强迫关闭了一个现有的连接。 (10054)
2017-06-05 17:58:22 paramiko.transport.sftp DEBUG    [chan 0] close(b'00000000')
2017-06-05 18:00:32 root         ERROR    ERROR:  
